!function(){"use strict";var t=function(){return t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},t.apply(this,arguments)};function e(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))}function n(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}function r(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function o(){return Math.floor(100*Math.random())}"function"==typeof SuppressedError&&SuppressedError;var i=/^(?:[A-Za-z\d+/]{4})*(?:[A-Za-z\d+/]{3}=|[A-Za-z\d+/]{2}==)?$/;function a(){return e(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,(e=new URL("".concat(f,"/location-privacy-info")),fetch(e.toString(),{method:"GET"}).then((function(t){if(!t.ok)throw new Error("Failed fetchLocationPrivacyInfo");return t.json()})).then((function(t){return t}))).catch((function(){return{gdprApplies:!0,isAdditionalPrivacyState:!0,countryCode:""}})).then((function(t){return t}))];case 1:return[2,t.sent()]}var e}))}))}function c(t){var e=t.version,n=function(t){var e=t.version,n=t.betas;if(!n||0===n.length)return e;for(var r=0,i=o(),a=0;a<n.length;a++){var c=n[a];if(i<r+c.trafficPercentage)return c.version;r+=c.trafficPercentage}return e}({version:e,betas:t.betas});return n===e?{name:e,version:e}:o()<50?{name:"".concat(n,"-beta-test"),version:n}:{name:"".concat(n,"-beta-control"),version:e}}function s(t){var e,n,r=t.privacyData,o=t.version,i=t.betas;try{if(r.gdprApplies)return{name:o,version:o};if(window.location.search.includes("growMeMode=journeyOnboarding"))return{name:o,version:o};var a=(e="growme_version",(n=document.cookie.match("(^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")))?n.pop():""),s=a?JSON.parse(a):null,u=function(t){var e=t.versionsResponse,n=t.versionFromCookie;if(!n)return!1;var r=n.version===e.version,o=e.betas.some((function(t){return t.version===n.version}));return r||o}({versionsResponse:{version:o,betas:i},versionFromCookie:s});if(s&&u)return s}catch(t){}var l=c({version:o,betas:i});try{var f=new Date;f.setTime(f.getTime()+18e5);var d="expires="+f.toUTCString(),v=JSON.stringify(l);document.cookie="growme_version=".concat(v,"; path=/; ").concat(d)}catch(t){}return l}function u(t){var e=t.name,n=t.version,r=t.scriptSrcRoot,o=t.siteId,i=document.createElement("script"),a="".concat(r,"/app.").concat(n,".js");i.type="module",i.src=a,i.defer=!0,i.setAttribute("data-grow-script","widget"),i.setAttribute("data-grow-me-beta-name",e),i.setAttribute("data-grow-me-beta-version",n),i.setAttribute("data-grow-faves-site-id",o),document.head.appendChild(i)}var l,f="https://api.grow.me";function d(t){return fetch("".concat(f,"/sites/").concat(t,"/config")).then((function(t){if(!t.ok)throw new Error("Failed to fetch site config");return t.json()})).then((function(t){return window.GrowMeSite=t,t}))}function v(t){window.GrowInitializationData=t}function p(e){if(!(function(){try{return window.self!==window.top}catch(t){return!0}}()||!Boolean(document.head.attachShadow)||Boolean(null===window||void 0===window?void 0:window.growMeMainScriptLoaded)||function(t){var e,n,r=t&&(i.test(t)?window.atob(t).split(":")[1]:t),o=null===document||void 0===document?void 0:document.querySelector("script[data-grow-initializer]");if(o&&r)try{var a=null===(n=null===(e=o.innerHTML)||void 0===e?void 0:e.split('data-grow-faves-site-id","')[1])||void 0===n?void 0:n.split('");')[0],c=a&&(i.test(a)?window.atob(a).split(":")[1]:a);if(c&&c!==r)return!0}catch(t){return!1}return!1}(e)||document.body.classList.contains("login")||document.body.classList.contains("wp-admin"))){window.growMeMainScriptLoaded=!0;var n="https://faves.grow.me";if(e){if(window.location.search)try{var o=new URLSearchParams(window.location.search).get("growMeVersion");if("off"===o)return;if(o)return void Promise.all([d(e),a()]).then((function(t){var i=r(t,2),a=i[0],c=i[1];v({site:a,gdprConsentData:c,privacyData:c}),u({name:"local",version:o,siteId:e,scriptSrcRoot:n})})).catch((function(t){console.error(t)}))}catch(t){}var c=d(e),l=a(),f=fetch("".concat("https://api.grow.me","/versions")).then((function(t){if(!t.ok)throw new Error("Failed to fetch versions");return t.json()}));return Promise.all([c,f,l]).then((function(o){var i,a=r(o,3),c=a[0],l=a[1],f=a[2],d=((null===(i=c.siteConfig)||void 0===i?void 0:i.growLabs)?l.betas:l.betas.filter((function(t){return!t.growLabs}))).filter((function(t){var e,n;return!t.feature||(null===(n=null===(e=null==c?void 0:c.siteConfig)||void 0===e?void 0:e.features)||void 0===n?void 0:n.includes(t.feature))})),p=s({version:l.version,betas:d,privacyData:f});v({site:c,gdprConsentData:f,privacyData:f}),u(t(t({},p),{siteId:e,scriptSrcRoot:n}));e&&["U2l0ZTowMWFhNGQxYS0wMzMzLTQzMzMtOWNiMi0yMjc5OTkzYWJhMDU=","U2l0ZTpiNDY5ODIzZC0yYmQwLTQ1ZDctOTI0Mi1lNzc2NzcwZjg5MDE=","U2l0ZTpjZTIxYmViOS1jM2IyLTQ0OGEtOWU4Mi0zMDg5OGZiZTk3MjY=","U2l0ZTpjNTc2NWViMi01NDAyLTQ4NzMtYWI5NS1kMDE0YTA3MzQ1NGI=","U2l0ZTo0ZGJjMjY5ZC0zMDNlLTRmMTktYjdkYi03YTJhOTBiOWY5NmI=","U2l0ZTo3ZjNlMDJkOC1kMDMwLTQwOWQtYTU3MS04ZWRhOTAzYmU5Y2U="].includes(e)})).catch((function(t){console.error(t)}))}console.error("data-grow-faves-site-id is required")}}var w=null===(l=document.currentScript)||void 0===l?void 0:l.getAttribute("data-grow-faves-site-id");if(w&&"string"==typeof w&&!w.startsWith("[object"))if("loading"!==document.readyState)p(w);else{var h=function(){"loading"!==document.readyState&&(p(w),document.removeEventListener("readystatechange",h))};document.addEventListener("readystatechange",h)}}();
